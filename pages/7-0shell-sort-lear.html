<section id="7-0shell-sort-learn" class="content-page">
    <h2>シェルソート</h2>
    <p>シェルソート (Shell Sort) は、挿入ソートの改良版と位置づけられるソートアルゴリズムです。ドナルド・シェルによって1959年に考案されました。挿入ソートが隣り合った要素しか比較・交換しないため、要素が本来あるべき位置から遠く離れている場合に効率が悪いという点を改善します。</p>
    <p><strong>基本的な考え方:</strong></p>
    <ol>
        <li>まず、配列全体を一定の間隔 `h` (ギャップと呼ぶ) を空けた要素からなる部分配列に分割します。例えば、ギャップ `h=4` なら、(A[0], A[4], A[8], ...), (A[1], A[5], A[9], ...), ... のような複数の部分配列ができます。</li>
        <li>これらの各部分配列に対して、挿入ソートを適用します。これにより、遠く離れた要素同士が交換され、要素がおおまかに正しい位置に近づきます。</li>
        <li>次に、ギャップ `h` を小さくしていき（例えば `h = h/3` や `h = h/2.2` など、特定の数列に従う）、再度ステップ1と2を繰り返します。</li>
        <li>最終的にギャップ `h` が `1` になると、アルゴリズムは通常の挿入ソートと同じ動作になり、配列全体が完全にソートされます。この時点では、要素は既にかなり整列された状態に近づいているため、挿入ソートの得意な状況（ほぼ整列済みデータ）となり、高速に動作します。</li>
    </ol>
    <p>シェルソートの性能は、このギャップ `h` の選び方（増分系列）に大きく依存します。適切な増分系列を用いることで、平均計算量を O(N (log N)<sup>2</sup>) や O(N<sup>1.5</sup>) 程度に改善できます。</p>
</section>